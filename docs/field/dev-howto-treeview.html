<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-05-17
 | Rendered using Hippo Forge Maven Skin 1.04.00 based on Apache Maven Fluido Skin
-->
<!--[if lt IE 7]><html id="ie6" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 7]><html id="ie7" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 8]><html id="ie8" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if IE 9]><html id="ie9" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if !IE]>--><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!--<![endif]-->

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
                    <meta name="Date-Revision-yyyymmdd" content="20170517"/>
                <meta http-equiv="Content-Language" content="en"/>
        <title>Hippo CMS External Document Picker Base &#x2013; External Document Field Picker - Developer's How-to (Tree List View)</title>
    <link rel="stylesheet" href="../css/forge-maven-skin-syntaxhighlighter-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/forge-maven-skin-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/site.css"/>
    <link rel="stylesheet" href="../css/print.css" media="print"/>

        
    <script type="text/javascript" src="../js/forge-maven-skin-syntaxhighlighter-1.04.00.min.js"></script>
    <script type="text/javascript" src="../js/forge-maven-skin-1.04.00.min.js"></script>

    
            </head>
    <body>

        
    
    
    <div class="container-fluid">
        <div class="row-fluid">
            <div id="header">
                <div id="logo">
                    <a href="http://www.onehippo.com">
                        <img src="../images/hipposkin/hippo-logo.png" alt="Hippo Logo" />
                    </a>
                </div>

                <h1>
                                            Hippo CMS External Document Picker Base
                    
                </h1>
                <div class="clearfix"></div>
            </div>
        </div>

        <div class="row-fluid">
            <div id="breadcrumbs" class="clearfix">
                <ul class="breadcrumb">
                                
                                        
                            <li id="publishDate">Last Published: 2017-05-17</li>
                                                                                                                                                </ul>

                <div class="links">
                    <a href="https://www.onehippo.com">Onehippo.com</a>
                    <a href="https://www.onehippo.org">Onehippo.org</a>
                </div>
            </div>
        </div>



            
    <div class="row-fluid">
        <div id="leftColumn" class="span3">
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                                        <li class="nav-header">Main</li>
                                                           
        <li>
    
                                                <a href="../index.html" title="Welcome">
                    <i class="none"></i>
                Welcome</a>
                    </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                       
        <li>
    
                                                <a href="../field/architecture.html" title="External Document Field Picker">
                    <i class="icon-chevron-down"></i>
                External Document Field Picker</a>
                                        <ul class="nav nav-list">
                                                          
        <li>
    
                                                <a href="../field/architecture.html" title="Architecture">
                    <i class="none"></i>
                Architecture</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../field/install.html" title="Installation">
                    <i class="none"></i>
                Installation</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../field/dev-howto-listview.html" title="Developer's How-to (Flat List View)">
                    <i class="none"></i>
                Developer's How-to (Flat List View)</a>
                    </li>
                                                                            
        <li class="active">
    
                        <a href="#"><i class="none"></i>Developer's How-to (Tree List View)</a>
                </li>
                                                                            
        <li>
    
                                                <a href="../field/dev-example-jpql.html" title="Example: JPA Picker">
                    <i class="none"></i>
                Example: JPA Picker</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../apidocs/index.html" title="Javadoc (latest)">
                    <i class="none"></i>
                Javadoc (latest)</a>
                    </li>
                                              </ul>
            </li>
                                                                                                                                                                                                                                                       
        <li>
    
                                                <a href="../richtext-ckeditor/architecture.html" title="External Link Picker in RichText Editor">
                    <i class="icon-chevron-down"></i>
                External Link Picker in RichText Editor</a>
                                        <ul class="nav nav-list">
                                                          
        <li>
    
                                                <a href="../richtext-ckeditor/architecture.html" title="Architecture">
                    <i class="none"></i>
                Architecture</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../richtext-ckeditor/install.html" title="Installation">
                    <i class="none"></i>
                Installation</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../richtext-ckeditor/dev-howto.html" title="Developer's How-to">
                    <i class="none"></i>
                Developer's How-to</a>
                    </li>
                                              </ul>
            </li>
                               
        <li>
    
                                                <a href="../release-notes.html" title="Release Notes">
                    <i class="none"></i>
                Release Notes</a>
                    </li>
                                                            <li class="nav-header">Autogenerated Docs</li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
        <li>
    
                                                <a href="../project-info.html" title="Project Information">
                    <i class="icon-chevron-right"></i>
                Project Information</a>
                                </li>
                                                                                                                                                                                                                                                                                                                                                                       
        <li>
    
                                                <a href="../project-reports.html" title="Project Reports">
                    <i class="icon-chevron-right"></i>
                Project Reports</a>
                                </li>
                        </ul>

                
                <hr class="divider"/>

                <div id="poweredBy">
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                                <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png"/>
        </a>
                            </div>
            </div>
        </div>
    
        
        <div id="bodyColumn"  class="span9" >
                                
            <!-- Copyright 2017 Hippo

    Licensed under the Apache License, Version 2.0 (the  "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS"
    BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License. -->
  
    <div class="section">
<h2><a name="Developers_How-to_Tree_List_View"></a>Developer's How-to (Tree List View)</h2>

      
<div class="section">
<h3><a name="Configuring_Field_in_Document_Template_a.k.a_namespace"></a>Configuring Field in Document Template (a.k.a 'namespace')</h3>
        
<p>
          In a namespace bootstrap XML file, you should add a custom field like the following example
          (an example with ExampleExternalSubjectCategoryServiceFacade having embedded external XML data in a classpath resource):
        </p>
        
<div class="brush: xml">
          
<div class="source"><pre class="prettyprint linenums">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;sv:node sv:name=&quot;newsdocument&quot; xmlns:sv=&quot;http://www.jcp.org/jcr/sv/1.0&quot;&gt;
  &lt;sv:property sv:name=&quot;jcr:primaryType&quot; sv:type=&quot;Name&quot;&gt;
    &lt;sv:value&gt;hipposysedit:templatetype&lt;/sv:value&gt;
  &lt;/sv:property&gt;

  &lt;!-- SNIP --&gt;

  &lt;sv:node sv:name=&quot;editor:templates&quot;&gt;
    &lt;sv:property sv:name=&quot;jcr:primaryType&quot; sv:type=&quot;Name&quot;&gt;
      &lt;sv:value&gt;editor:templateset&lt;/sv:value&gt;
    &lt;/sv:property&gt;
    &lt;sv:node sv:name=&quot;_default_&quot;&gt;
      &lt;sv:property sv:name=&quot;jcr:primaryType&quot; sv:type=&quot;Name&quot;&gt;
        &lt;sv:value&gt;frontend:plugincluster&lt;/sv:value&gt;
      &lt;/sv:property&gt;

      &lt;!-- SNIP --&gt;

      &lt;!--
        You should add something like the following for each External Document Picker field.
        Most part will be used without modification except of the plugin parameters.
      --&gt;

      &lt;sv:node sv:name=&quot;externaltaxonomyselector&quot;&gt;
        &lt;sv:property sv:name=&quot;jcr:primaryType&quot; sv:type=&quot;Name&quot;&gt;
          &lt;sv:value&gt;frontend:plugin&lt;/sv:value&gt;
        &lt;/sv:property&gt;
        &lt;sv:property sv:name=&quot;caption&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;External Taxonomy&lt;/sv:value&gt;
        &lt;/sv:property&gt;
        &lt;sv:property sv:name=&quot;engine&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;${engine}&lt;/sv:value&gt;
        &lt;/sv:property&gt;
        &lt;sv:property sv:name=&quot;mode&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;${mode}&lt;/sv:value&gt;
        &lt;/sv:property&gt;
        &lt;sv:property sv:name=&quot;wicket.id&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;${cluster.id}.left.item&lt;/sv:value&gt;
        &lt;/sv:property&gt;
        &lt;sv:property sv:name=&quot;wicket.model&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;${wicket.model}&lt;/sv:value&gt;
        &lt;/sv:property&gt;

        &lt;!-- Plugin class configuration for Tree List View dialog option. --&gt;
        &lt;sv:property sv:name=&quot;plugin.class&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;org.onehippo.forge.exdocpicker.impl.field.tree.ExternalTreeItemFieldSelectorPlugin&lt;/sv:value&gt;
        &lt;/sv:property&gt;

        &lt;!-- Item selection mode plugin parameter --&gt;
        &lt;sv:property sv:name=&quot;selection.mode&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;multiple&lt;/sv:value&gt;
        &lt;/sv:property&gt;

        &lt;!--
          Initial tree expanding depth parameter. The default setting is 0.
          If set to a positive number, tree will be expanded to show all the nodes up to the configured depth level initially.
        --&gt;
        &lt;sv:property sv:name=&quot;initial.tree.expand.depth&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;1&lt;/sv:value&gt;
        &lt;/sv:property&gt;

        &lt;!-- ExternalDocumentServiceFacade class FQN plugin parameter --&gt;
        &lt;sv:property sv:name=&quot;external.document.service.facade&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;org.onehippo.forge.exdocpicker.demo.field.tree.ExampleExternalSubjectCategoryServiceFacade&lt;/sv:value&gt;
        &lt;/sv:property&gt;

        &lt;!-- Physical document node property name to store the external document IDs. This is used by the implementation (ExampleExternalSubjectCategoryServiceFacade). --&gt;
        &lt;sv:property sv:name=&quot;example.external.cats.field.name&quot; sv:type=&quot;String&quot;&gt;
          &lt;sv:value&gt;exdocpickerbasedemo:excategories&lt;/sv:value&gt;
        &lt;/sv:property&gt;

        &lt;sv:node sv:name=&quot;cluster.options&quot;&gt;
          &lt;sv:property sv:name=&quot;jcr:primaryType&quot; sv:type=&quot;Name&quot;&gt;
            &lt;sv:value&gt;frontend:pluginconfig&lt;/sv:value&gt;
          &lt;/sv:property&gt;
        &lt;/sv:node&gt;

      &lt;/sv:node&gt;

      &lt;!-- SNIP --&gt;

    &lt;/sv:node&gt;
  &lt;/sv:node&gt;
&lt;/sv:node&gt;
          </pre></div>
        </div>
        
<p>
          See the following for a full example in the demo project:
          <a class="externalLink" href="https://github.com/onehippo-forge/external-document-picker/tree/master/demo/bootstrap/configuration/src/main/resources/namespaces/exdocpickerbase-demo/newsdocument.xml">
            https://github.com/onehippo-forge/external-document-picker/tree/master/demo/bootstrap/configuration/src/main/resources/namespaces/exdocpickerbase-demo/newsdocument.xml
          </a>
        </p>
        
      </div>

      
<div class="section">
<h3><a name="Implementing_your_ExternalDocumentServiceFacade_class"></a>Implementing your ExternalDocumentServiceFacade class</h3>
        
<p>
          See an example <tt>ExternalDocumentServiceFacade</tt> implementation code here:
          <a class="externalLink" href="https://github.com/onehippo-forge/external-document-picker/tree/master/demo/cms/src/main/java/org/onehippo/forge/exdocpicker/demo/field/tree/ExampleExternalSubjectCategoryServiceFacade.java">
            https://github.com/onehippo-forge/external-document-picker/tree/master/demo/cms/src/main/java/org/onehippo/forge/exdocpicker/demo/field/tree/ExampleExternalSubjectCategoryServiceFacade.java
          </a>
        </p>
        
<p>
          Put your own implementation class in your CMS module project.
        </p>
        
<p>
          See <a href="../apidocs/index.html">Javadocs</a> for detail about the <tt>ExternalSearchServiceFacade</tt>.
        </p>
      </div>

      
<div class="section">
<h3><a name="Plugin_Parameters"></a>Plugin Parameters</h3>
        
<p>
          You may configure the following plugin parameters in the field definition of your document template definition (a.k.a 'namespace').
        </p>
        
<table border="0" class="table table-striped">
          
<tr class="a">
            
<th>Parameter name</th>
            
<th>Description</th>
            
<th>Example value(s)</th>
            
<th>Default value(s)</th>
          </tr>
          
<tr class="b">
            
<td>caption</td>
            
<td>Field caption, used as field label and dialog title.</td>
            
<td>&quot;External Taxonomy&quot;</td>
            
<td>&quot;Related external documents&quot;</td>
          </tr>
          
<tr class="a">
            
<td>external.document.service.facade</td>
            
<td><tt>org.onehippo.forge.exdocpicker.api.ExternalDocumentServiceFacade</tt> implementation class FQN.</td>
            
<td>&quot;org.onehippo.forge.exdocpicker.demo.field.tree.ExampleExternalSubjectCategoryServiceFacade&quot;</td>
            
<td></td>
          </tr>
          
<tr class="b">
            
<td>external.documents.container.visible</td>
            
<td>
              Whether or not to show the currently selected external document items in the plugin.
              <br />
              Note: In some use cases, the facade implementation may choose to creates other compound or link fields
              in the document, without having to show the selected items by itself.
            </td>
            
<td>false</td>
            
<td>true</td>
          </tr>
          
<tr class="a">
            
<td>selection.mode</td>
            
<td>
              External document selection mode. Either 'single' or 'multiple'.
              If this is 'single', then users can select only one external document item in the UI.
              Otherwise, users can select multiple external document items.
            </td>
            
<td>
              &quot;single&quot; or
              <br />
              &quot;multiple&quot;
            </td>
            
<td>&quot;multiple&quot;</td>
          </tr>
          
<tr class="b">
            
<td>dialog.size</td>
            
<td>The size of the picker popup dialog.</td>
            
<td>&quot;width=600,height=400&quot;</td>
            
<td>&quot;width=835,height=650&quot;</td>
          </tr>
          
<tr class="a">
            
<td>initial.tree.expand.depth</td>
            
<td>
              The depth of tree nodes to which the popup dialog should show initially by expanding its ancestor tree nodes.
              The depth of the root tree node(s) is 0.
              So, if this is set to 2 for instance, all the tree nodes up to the depth of 1 will be expanded
              initially, in order to show all the tree nodes up to the depth of 2.
            </td>
            
<td>1</td>
            
<td>0</td>
          </tr>
        </table>
      </div>

      
<div class="section">
<h3><a name="Plugin_Specific_Parameters_of_ExampleExternalDocumentServiceFacade"></a>Plugin Specific Parameters of ExampleExternalDocumentServiceFacade</h3>
        
<p>
          The following parameters are set for the <tt>ExampleExternalDocumentServiceFacade</tt> implementation
          additionally.
        </p>
        
<table border="0" class="table table-striped">
          
<tr class="a">
            
<th>Parameter name</th>
            
<th>Description</th>
            
<th>Example value(s)</th>
            
<th>Default value(s)</th>
          </tr>
          
<tr class="b">
            
<td>example.external.cats.field.name</td>
            
<td>The physical node property name to read from or store to when selection an external document.</td>
            
<td>exdocpickerbasedemo:excategories</td>
            
<td></td>
          </tr>
        </table>
      </div>

    </div>
  

            </div>
        </div>
    </div>

    <hr/>

    <footer>
                <div class="container-fluid">
                <div class="row span12">Copyright &copy;                                                2017.
                        All Rights Reserved.            
                                        
            </div>

        
        
                </div>
    </footer>
</body>
</html>
