<!DOCTYPE html>
    <!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 at 2024-09-22 
 | Rendered using Bloomreach Forge Maven Skin 3.2.1 based on Apache Maven Fluido Skin
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                  <meta name="Date-Revision-yyyymmdd" content="20240922" />
              <meta http-equiv="Content-Language" content="en" />
      <title>Hippo CMS External Document Picker Base &#x2013; External Document Field Picker - Developer's How-to: Document Field Flat List Picker</title>
  <link rel="stylesheet" href="../css/forge-maven-skin-syntaxhighlighter-3.2.1.min.css"/>
  <link rel="stylesheet" href="../css/forge-maven-skin-3.2.1.min.css"/>
  <link rel="stylesheet" href="../css/site.css" />
  <link rel="stylesheet" href="../css/print.css" media="print" />
  <link rel="icon" type="image/png" href="../images/skin/logo_64.png" sizes="64x64">

  
  <script type="text/javascript" src="../js/forge-maven-skin-syntaxhighlighter-3.2.1.min.js"></script>
  <script type="text/javascript" src="../js/forge-maven-skin-3.2.1.min.js"></script>

            <style>.github-fork-ribbon:before { background-color: green; }</style>
</head>
<body class="topBarDisabled">
              <a target="_blank" class="github-fork-ribbon right" href="https://github.com/bloomreach-forge/external-document-picker"
     data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
          <div class="container-fluid">
  <div id="banner">
    <div id="logo">
                        <a href="https://bloomreach-forge.github.io">
        <img src="../images/skin/logo.png" alt="Bloomreach Forge Logo" />
      </a>
    </div>
    <div class="pull-left">              <div id="bannerLeft">    <h1>Hippo CMS External Document Picker Base</h1>
    </div>
              </div>
    <div class="pull-right"></div>
    <div class="clear"><hr/></div>
  </div>

  <div id="breadcrumbs">
                            <div class="links">
      <a href="https://xmdocumentation.bloomreach.com">xmdocumentation.bloomreach.com</a>
      <a href="https://github.com/bloomreach-forge">github.com/bloomreach-forge</a>
    </div>
    <ul class="breadcrumb">
    
  <li id="publishDate">published: 2024-09-22  
  </li>
  
        
            </ul>
    <div class="clear"><hr/></div>
  </div>
<div class="row-fluid">
  <div id="leftColumn" class="span2">
    <div class="well sidebar-nav">
    
    <ul class="nav nav-list">
            <li class="nav-header">Main</li>
              <li>  <a href="../index.html" title="Welcome">  <span class="none"></span>  Welcome</a>  </li>
                                                                                  <li>  <a href="../openui-field/architecture.html" title="OpenUI Document Field">  <span class="icon-chevron-down"></span>  OpenUI Document Field</a>  
    <ul class="nav nav-list">
                  <li>  <a href="../openui-field/architecture.html" title="Architecture">  <span class="none"></span>  Architecture</a>  </li>
                        <li>  <a href="../openui-field/install.html" title="Installation">  <span class="none"></span>  Installation</a>  </li>
                        <li>  <a href="../openui-field/dev-howto-openui-listview.html" title="OpenUI Flat List Picker">  <span class="none"></span>  OpenUI Flat List Picker</a>  </li>
                        <li>  <a href="../openui-field/dev-howto-openui-treeview.html" title="OpenUI Tree List Picker">  <span class="none"></span>  OpenUI Tree List Picker</a>  </li>
                        <li>  <a href="../openui-field/spec-of-rest-services.html" title="Specification of REST Services">  <span class="none"></span>  Specification of REST Services</a>  </li>
              </ul>
  </li>
                                                                                              <li>  <a href="../field/architecture.html" title="Document Field">  <span class="icon-chevron-down"></span>  Document Field</a>  
    <ul class="nav nav-list">
                  <li>  <a href="../field/architecture.html" title="Architecture">  <span class="none"></span>  Architecture</a>  </li>
                        <li>  <a href="../field/install.html" title="Installation">  <span class="none"></span>  Installation</a>  </li>
                        <li class="active">  <a href="#"><span class="none"></span>Flat List Picker</a>
  </li>
                        <li>  <a href="../field/dev-howto-treeview.html" title="Tree List Picker">  <span class="none"></span>  Tree List Picker</a>  </li>
                        <li>  <a href="../field/dev-example-jpql.html" title="Example: JPA Picker">  <span class="none"></span>  Example: JPA Picker</a>  </li>
              </ul>
  </li>
                                                      <li>  <a href="../folder/architecture.html" title="Folder Context Menu">  <span class="icon-chevron-down"></span>  Folder Context Menu</a>  
    <ul class="nav nav-list">
                  <li>  <a href="../folder/architecture.html" title="Architecture">  <span class="none"></span>  Architecture</a>  </li>
                        <li>  <a href="../folder/dev-howto-listview.html" title="Flat List Picker">  <span class="none"></span>  Flat List Picker</a>  </li>
                        <li>  <a href="../folder/dev-howto-treeview.html" title="Tree List Picker">  <span class="none"></span>  Tree List Picker</a>  </li>
              </ul>
  </li>
                                                      <li>  <a href="../richtext-ckeditor/architecture.html" title="RichText Editor">  <span class="icon-chevron-down"></span>  RichText Editor</a>  
    <ul class="nav nav-list">
                  <li>  <a href="../richtext-ckeditor/architecture.html" title="Architecture">  <span class="none"></span>  Architecture</a>  </li>
                        <li>  <a href="../richtext-ckeditor/install.html" title="Installation">  <span class="none"></span>  Installation</a>  </li>
                        <li>  <a href="../richtext-ckeditor/dev-howto.html" title="External Link Picker Button">  <span class="none"></span>  External Link Picker Button</a>  </li>
              </ul>
  </li>
        <li>  <a href="../release-notes.html" title="Release Notes">  <span class="none"></span>  Release Notes</a>  </li>
        <li>  <a href="../xref/index.html" title="Javadoc">  <span class="none"></span>  Javadoc</a>  </li>
                  <li class="nav-header">Autogenerated Docs</li>
                                                                                                                                                                                                                        <li>  <a href="../project-info.html" title="Project Information">  <span class="icon-chevron-right"></span>  Project Information</a>  </li>
                                                        <li>  <a href="../project-reports.html" title="Project Reports">  <span class="icon-chevron-right"></span>  Project Reports</a>  </li>
        </ul>
    
          <hr />
      <div id="poweredBy">
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
              <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">  <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />  </a>
          </div>
    </div>
  </div>
  <div id="bodyColumn"  class="span10" >
    
  
    <section>
<h2><a name="Developer.27s_How-to:_Document_Field_Flat_List_Picker"></a>Developer's How-to: Document Field Flat List Picker</h2>

      <section>
<h3><a name="Configuring_Field_in_Document_Type_Definition"></a>Configuring Field in Document Type Definition</h3>
        
<p>
          You should add a custom field configuration like the following example in YAML format.
          This is an example with <code>ExampleExternalDocumentServiceFacade</code> having embedded external
          JSON data in a classpath resource:
        </p>
          
<div class="source"><pre>
/hippo:namespaces/mynamespace/mydocumenttype:
  /hipposysedit:nodetype:
    /hipposysedit:nodetype:
      ...
      /relatedextdocselector:
        jcr:primaryType: hipposysedit:field
        hipposysedit:mandatory: false
        // flag indicating whether the data is saved by the facade implementation as single or multiple string
        hipposysedit:multiple: true
        hipposysedit:ordered: false
        // property name to store the external document IDs. In this case, same as example.external.docs.field.name below.
        hipposysedit:path: exdocpickerbasedemo:relatedexdocids
        hipposysedit:primary: false
        hipposysedit:type: String
      ...
  /editor:templates:
    /_default_:
      ...
      /relatedextdocselector:
        jcr:primaryType: frontend:plugin
        caption: Related External Documents
        engine: ${engine}
        mode: ${mode}
        wicket.id: ${cluster.id}.left.item
        wicket.model: ${wicket.model}

        // Plugin class configuration for Flat List View dialog option.
        plugin.class: org.onehippo.forge.exdocpicker.impl.field.ExternalDocumentFieldSelectorPlugin
        // Item selection mode plugin parameter: single or multiple
        selection.mode: multiple
        // ExternalDocumentServiceFacade class FQN plugin parameter
        external.document.service.facade: org.onehippo.forge.exdocpicker.demo.field.ExampleExternalDocumentServiceFacade

        // Facade configuration: physical document node property name to store the external document IDs.
        example.external.docs.field.name: exdocpickerbasedemo:relatedexdocids

        /cluster.options:
          jcr:primaryType: frontend:pluginconfig
        </pre></div>

      </section>

      <section>
<h3><a name="Implementing_your_ExternalDocumentServiceFacade_class"></a>Implementing your ExternalDocumentServiceFacade class</h3>
        
<p>
          See an example <code>ExternalDocumentServiceFacade</code> implementation code here:
          <a class="externalLink" href="https://github.com/bloomreach-forge/external-document-picker/tree/master/demo/cms/src/main/java/org/onehippo/forge/exdocpicker/demo/field/ExampleExternalDocumentServiceFacade.java">
            https://github.com/bloomreach-forge/external-document-picker/tree/master/demo/cms/src/main/java/org/onehippo/forge/exdocpicker/demo/field/ExampleExternalDocumentServiceFacade.java
          </a>
        </p>
        
<p>
          Put your own implementation class in your CMS module project.
        </p>
        
<p>
          See <a href="../xref/index.html">Javadocs</a> for detail about the <code>ExternalSearchServiceFacade</code>.
        </p>
      </section>

      <section>
<h3><a name="Plugin_Parameters"></a>Plugin Parameters</h3>
        
<p>
          You may configure the following plugin parameters in the field definition of your document template definition (a.k.a 'namespace').
        </p>
        
<table border="0" class="table table-striped">
          
<tr class="a">
            
<th>Parameter name</th>
            
<th>Description</th>
            
<th>Example value(s)</th>
            
<th>Default value(s)</th>
          </tr>
          
<tr class="b">
            
<td align="left">caption</td>
            
<td>Field caption, used as field label and dialog title.</td>
            
<td>&quot;Introductory Blog Article&quot;</td>
            
<td>&quot;Related external documents&quot;</td>
          </tr>
          
<tr class="a">
            
<td align="left">external.document.service.facade</td>
            
<td><code>org.onehippo.forge.exdocpicker.api.ExternalDocumentServiceFacade</code> implementation class FQN.</td>
            
<td>&quot;org.onehippo.forge.exdocpicker.demo.field.ExampleExternalDocumentServiceFacade&quot;</td>
            
<td></td>
          </tr>
          
<tr class="b">
            
<td align="left">external.documents.container.visible</td>
            
<td>
              Whether or not to show the currently selected external document items in the plugin.
              <br />
              Note: In some use cases, the facade implementation may choose to creates other compound or link fields
              in the document, without having to show the selected items by itself.
            </td>
            
<td>false</td>
            
<td>true</td>
          </tr>
          
<tr class="a">
            
<td align="left">selection.mode</td>
            
<td>
              External document selection mode. Either 'single' or 'multiple'.
              If this is 'single', then users can select only one external document item in the UI.
              Otherwise, users can select multiple external document items.
            </td>
            
<td>
              &quot;single&quot; or
              <br />
              &quot;multiple&quot;
            </td>
            
<td>&quot;multiple&quot;</td>
          </tr>
          
<tr class="b">
            
<td align="left">dialog.size</td>
            
<td>The size of the picker popup dialog.</td>
            
<td>&quot;width=600,height=400&quot;</td>
            
<td>&quot;width=835,height=650&quot;</td>
          </tr>
          
<tr class="a">
            
<td align="left">initial.search.enabled</td>
            
<td>Flag whether the popup dialog box will search external documents initially when opening up.</td>
            
<td>true</td>
            
<td>false</td>
          </tr>
          
<tr class="b">
            
<td align="left">initial.search.query</td>
            
<td>
              Search query string or search term when the initial search is made in the dialog box when opening up
              if <code>initial.search.enabled</code> is set to true.
              <br /><br />
              <i>Note: it's up to the <code>ExternalDocumentServiceFacade</code> implementation to determine how to deal with the search query argument.</i>
            </td>
            
<td>&quot;*&quot;</td>
            
<td>&quot;&quot;</td>
          </tr>
          
<tr class="a">
            
<td align="left">page.size</td>
            
<td>The page size (item count per page) in the popup dialog.</td>
            
<td>10</td>
            
<td>5</td>
          </tr>
          
<tr class="b">
            
<td align="left">icon.style</td>
            
<td>Optional style attribute for the icon image in the dialog.</td>
            
<td>&quot;WIDTH: 40px; HEIGHT: 40px&quot;</td>
            
<td></td>
          </tr>
        </table>
      </section>

      <section>
<h3><a name="Plugin_Specific_Parameters_of_ExampleExternalDocumentServiceFacade"></a>Plugin Specific Parameters of ExampleExternalDocumentServiceFacade</h3>
        
<p>
          The following parameters are set for the <code>ExampleExternalDocumentServiceFacade</code> implementation
          additionally.
        </p>
        
<table border="0" class="table table-striped">
          
<tr class="a">
            
<th>Parameter name</th>
            
<th>Description</th>
            
<th>Example value(s)</th>
            
<th>Default value(s)</th>
          </tr>
          
<tr class="b">
            
<td align="left">example.external.docs.field.name</td>
            
<td>The physical node property name to read from or store to when selection an external document.</td>
            
<td>exdocpickerbasedemo:relatedexdocids</td>
            
<td></td>
          </tr>
        </table>
      </section>

    </section>
  

    </div>
    </div>
    </div>
    <hr/>
    <footer>
    <div class="container-fluid">
      <div class="row-fluid">
          <p class="copyright">Copyright &copy;      2007&#x2013;2024
              <a href="https://www.bloomreach.com">Bloomreach</a>.
          
</p>
    </div>
            </div>
  </footer>
    </body>
</html>

