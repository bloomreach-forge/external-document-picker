<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-03-27
 | Rendered using Hippo Forge Maven Skin 1.04.00 based on Apache Maven Fluido Skin
-->
<!--[if lt IE 7]><html id="ie6" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 7]><html id="ie7" xmlns="http://www.w3.org/1999/xhtml"  xml:lang="en" lang="en"><![endif]-->
<!--[if IE 8]><html id="ie8" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if IE 9]><html id="ie9" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><![endif]-->
<!--[if !IE]>--><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><!--<![endif]-->

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
                    <meta name="Date-Revision-yyyymmdd" content="20170327"/>
                <meta http-equiv="Content-Language" content="en"/>
        <title>Hippo CMS External Document Picker Base &#x2013; Installing External Link Picker Button in the RichText Editor</title>
    <link rel="stylesheet" href="../css/forge-maven-skin-syntaxhighlighter-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/forge-maven-skin-1.04.00.min.css"/>
    <link rel="stylesheet" href="../css/site.css"/>
    <link rel="stylesheet" href="../css/print.css" media="print"/>

        
    <script type="text/javascript" src="../js/forge-maven-skin-syntaxhighlighter-1.04.00.min.js"></script>
    <script type="text/javascript" src="../js/forge-maven-skin-1.04.00.min.js"></script>

    
            </head>
    <body>

        
    
    
    <div class="container-fluid">
        <div class="row-fluid">
            <div id="header">
                <div id="logo">
                    <a href="http://www.onehippo.com">
                        <img src="../images/hipposkin/hippo-logo.png" alt="Hippo Logo" />
                    </a>
                </div>

                <h1>
                                            Hippo CMS External Document Picker Base
                    
                </h1>
                <div class="clearfix"></div>
            </div>
        </div>

        <div class="row-fluid">
            <div id="breadcrumbs" class="clearfix">
                <ul class="breadcrumb">
                                
                                        
                            <li id="publishDate">Last Published: 2017-03-27</li>
                                                                                                                                                </ul>

                <div class="links">
                    <a href="https://www.onehippo.com">Onehippo.com</a>
                    <a href="https://www.onehippo.org">Onehippo.org</a>
                </div>
            </div>
        </div>



            
    <div class="row-fluid">
        <div id="leftColumn" class="span3">
            <div class="well sidebar-nav">
                <ul class="nav nav-list">
                                        <li class="nav-header">Main</li>
                                                           
        <li>
    
                                                <a href="../index.html" title="Welcome">
                    <i class="none"></i>
                Welcome</a>
                    </li>
                                                                                                                                                                                                                                                                                                                                                               
        <li>
    
                                                <a href="../field/architecture.html" title="External Document Field Picker">
                    <i class="icon-chevron-down"></i>
                External Document Field Picker</a>
                                        <ul class="nav nav-list">
                                                          
        <li>
    
                                                <a href="../field/architecture.html" title="Architecture">
                    <i class="none"></i>
                Architecture</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../field/install.html" title="Installation">
                    <i class="none"></i>
                Installation</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../field/dev-howto.html" title="Developer's How-to">
                    <i class="none"></i>
                Developer's How-to</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../field/dev-example-jpql.html" title="Example: JPA Picker">
                    <i class="none"></i>
                Example: JPA Picker</a>
                    </li>
                                                                            
        <li>
    
                                                <a href="../apidocs/index.html" title="Javadoc (latest)">
                    <i class="none"></i>
                Javadoc (latest)</a>
                    </li>
                                              </ul>
            </li>
                                                                                                                                                                                                                                                                           
        <li>
    
                                                <a href="../richtext-ckeditor/architecture.html" title="External Link Picker in RichText Editor">
                    <i class="icon-chevron-down"></i>
                External Link Picker in RichText Editor</a>
                                        <ul class="nav nav-list">
                                                          
        <li>
    
                                                <a href="../richtext-ckeditor/architecture.html" title="Architecture">
                    <i class="none"></i>
                Architecture</a>
                    </li>
                                                                            
        <li class="active">
    
                        <a href="#"><i class="none"></i>Installation</a>
                </li>
                                                                            
        <li>
    
                                                <a href="../richtext-ckeditor/dev-howto.html" title="Developer's How-to">
                    <i class="none"></i>
                Developer's How-to</a>
                    </li>
                                              </ul>
            </li>
                               
        <li>
    
                                                <a href="../release-notes.html" title="Release Notes">
                    <i class="none"></i>
                Release Notes</a>
                    </li>
                                                            <li class="nav-header">Autogenerated Docs</li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
        <li>
    
                                                <a href="../project-info.html" title="Project Information">
                    <i class="icon-chevron-right"></i>
                Project Information</a>
                                </li>
                                                                                                                                                                                                                                                                                                                                                                       
        <li>
    
                                                <a href="../project-reports.html" title="Project Reports">
                    <i class="icon-chevron-right"></i>
                Project Reports</a>
                                </li>
                        </ul>

                
                <hr class="divider"/>

                <div id="poweredBy">
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                            <div class="clear"></div>
                                                <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png"/>
        </a>
                            </div>
            </div>
        </div>
    
        
        <div id="bodyColumn"  class="span9" >
                                
            <!-- Copyright 2014 Hippo

    Licensed under the Apache License, Version 2.0 (the  "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS"
    BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License. -->
  
    <div class="section">
<h2><a name="Installing_External_Link_Picker_Button_in_the_RichText_Editor"></a>Installing External Link Picker Button in the RichText Editor</h2>
      
<div class="section">
<h3><a name="Add_Dependencies"></a>Add Dependencies</h3>
        
<p>
          Make sure you have the forge Maven2 repository reference and dependency definition in the root pom.xml of your project.
        </p>
        
<div class="brush: xml">
          
<div class="source"><pre class="prettyprint linenums">
    &lt;repositories&gt;

      &lt;!-- SNIP --&gt;

      &lt;repository&gt;
        &lt;id&gt;hippo-maven2-forge&lt;/id&gt;
        &lt;name&gt;Hippo Maven 2 Forge Repository&lt;/name&gt;
        &lt;url&gt;http://maven.onehippo.com/maven2-forge/&lt;/url&gt;
      &lt;/repository&gt;

      &lt;!-- SNIP --&gt;

    &lt;/repositories&gt;

    &lt;!-- SNIP --&gt;

    &lt;dependencyManagement&gt;

      &lt;!-- SNIP --&gt;

      &lt;dependencies&gt;

        &lt;!-- SNIP --&gt;

        &lt;!-- NOTE: You should set a property named 'forge.exdocpickerbase.version' to a version of this plugin! --&gt;
        &lt;dependency&gt;
          &lt;groupId&gt;org.onehippo.forge.exdocpickerbase&lt;/groupId&gt;
          &lt;artifactId&gt;exdocpickerbase-richtext-ckeditor&lt;/artifactId&gt;
          &lt;version&gt;${forge.exdocpickerbase.version}&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- SNIP --&gt;

      &lt;/dependencies&gt;

      &lt;!-- SNIP --&gt;

    &lt;/dependencyManagement&gt;
    </pre></div>
        </div>
        
<p>
          And add the following dependency reference into your Hippo CMS Web Application module subproject.
        </p>
        
<div class="brush: xml">
          
<div class="source"><pre class="prettyprint linenums">
    &lt;dependencies&gt;

      &lt;!-- SNIP --&gt;

      &lt;dependency&gt;
        &lt;groupId&gt;org.onehippo.forge.exdocpickerbase&lt;/groupId&gt;
        &lt;artifactId&gt;exdocpickerbase-richtext-ckeditor&lt;/artifactId&gt;
      &lt;/dependency&gt;

      &lt;!-- SNIP --&gt;

    &lt;/dependencies&gt;
    </pre></div>
        </div>
      </div>
      
<div class="section">
<h3><a name="Add_Bootstrap_Configuration"></a>Add Bootstrap Configuration</h3>
        
<p>
          In order to enable the <b>exdocpickerbase</b> CKEditor plugin,
          you should customize CKEditor configuration for a RichText editor.
        </p>
        
<p>
         In a nutshell, you should add 'exdocpickerbase' as extra CKEditor plugin in the <b>ckeditor.config.overlayed.json</b> property like the following example:
         (See <a class="externalLink" href="http://www.onehippo.org/library/concepts/document-types/html-fields/ckeditor-configuration-properties.html">CKEditor configuration properties</a> for details on those properties.)
        </p>
        
<div class="brush: javascript">
        
<div class="source"><pre class="prettyprint linenums">{
  extraPlugins: 'exdocpickerbase';
}</pre></div>
        </div>
        
<p>
          And, you should add configurations for 'exdocpickerbase' CKEditor plugin additionally in the <b>ckeditor.config.appended.json</b> like the following example:
        </p>
        
<div class="brush: javascript">
        
<div class="source"><pre class="prettyprint linenums">{
  &quot;exdocpickerbase&quot; : {
    &quot;buttonLabel&quot; : &quot;Link to Hippo Blog Articles&quot;,
    &quot;buttonIcon&quot; : &quot;/cms/images/hippoblogpicker.png&quot;,
    &quot;dialogTitle&quot; : &quot;Hippo Blog Article Browser&quot;,
    &quot;dialogMinWidth&quot; : 640,
    &quot;dialogMinHeight&quot; : 480,
    &quot;defaultDocumentIcon&quot; : &quot;/cms/images/onehippo-default.png&quot;,
    &quot;getSearchURL&quot; : &quot;return '/cms/examples/hippoblogarticles.jsp?q=' + encodeURI(data.query);&quot;,
    &quot;getLinkAttributes&quot; : &quot;var attrs = {}; attrs['href'] = item.href; attrs['data-custom1'] = item['data-custom1']; return attrs;&quot;
  }
}</pre></div>
        </div>
        
<p>
          Here's a full example as in bootstrap XML configuration format:
        </p>
        
<div class="brush: xml">
        
<div class="source"><pre class="prettyprint linenums">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;sv:node xmlns:sv=&quot;http://www.jcp.org/jcr/sv/1.0&quot; xmlns:h=&quot;http://www.onehippo.org/jcr/xmlimport&quot; sv:name=&quot;html&quot; h:merge=&quot;combine&quot;&gt;
  &lt;sv:node sv:name=&quot;editor:templates&quot; h:merge=&quot;combine&quot;&gt;
    &lt;sv:node sv:name=&quot;_default_&quot; h:merge=&quot;combine&quot;&gt;
      &lt;sv:property sv:name=&quot;ckeditor.config.overlayed.json&quot; sv:type=&quot;String&quot; h:merge=&quot;override&quot;&gt;
        &lt;sv:value&gt;{&amp;#13;
  extraPlugins: 'exdocpickerbase'&amp;#13;
}&lt;/sv:value&gt;
      &lt;/sv:property&gt;
      &lt;sv:property sv:name=&quot;ckeditor.config.appended.json&quot; sv:type=&quot;String&quot; h:merge=&quot;override&quot;&gt;
        &lt;sv:value&gt;{&amp;#13;
  &quot;exdocpickerbase&quot; : {&amp;#13;
    &quot;buttonLabel&quot; : &quot;Link to Hippo Blog Articles&quot;,&amp;#13;
    &quot;buttonIcon&quot; : &quot;/cms/images/hippoblogpicker.png&quot;,&amp;#13;
    &quot;dialogTitle&quot; : &quot;Hippo Blog Article Browser&quot;,&amp;#13;
    &quot;dialogMinWidth&quot; : 640,&amp;#13;
    &quot;dialogMinHeight&quot; : 480,&amp;#13;
    &quot;defaultDocumentIcon&quot; : &quot;/cms/images/onehippo-default.png&quot;,&amp;#13;
    &quot;getSearchURL&quot; : &quot;return '/cms/examples/hippoblogarticles.jsp?q=' + encodeURI(data.query);&quot;,&amp;#13;
    &quot;getLinkAttributes&quot; : &quot;var attrs = {}; attrs['href'] = item.href; attrs['data-custom1'] = item['data-custom1']; return attrs;&quot;&amp;#13;
  }&amp;#13;
}&lt;/sv:value&gt;
      &lt;/sv:property&gt;
    &lt;/sv:node&gt;
  &lt;/sv:node&gt;
&lt;/sv:node&gt;
        </pre></div>
        </div>
        
<p>
          For example, the configuration change shown above can be made for <i>/hippo:namespaces/hippostd/html</i> node
          in order to apply the <b>exdocpickerbase</b> CKEditor plugin globally to all RichText fields.
        </p>
        
<p>
          You can download an example configuration from the demo project:
          <a class="externalLink" href="https://github.com/onehippo-forge/external-document-picker/tree/master/demo/bootstrap/configuration/src/main/resources/namespaces/hippostd/html.xml" target="_blank">https://github.com/onehippo-forge/external-document-picker/tree/master/demo/bootstrap/configuration/src/main/resources/namespaces/hippostd/html.xml</a>
        </p>
        
<p>
          The following <i>hippo:initializeitem</i> item can be added in <i>hippoecm-extension.xml</i>
          to load the configuration shown above.
        </p>
        
<div class="brush: xml">
        
<div class="source"><pre class="prettyprint linenums">
  &lt;sv:node sv:name=&quot;exdocpickerbase-demo-hippo-namespaces-hippostd-html&quot;&gt;
    &lt;sv:property sv:name=&quot;jcr:primaryType&quot; sv:type=&quot;Name&quot;&gt;
      &lt;sv:value&gt;hippo:initializeitem&lt;/sv:value&gt;
    &lt;/sv:property&gt;
    &lt;sv:property sv:name=&quot;hippo:sequence&quot; sv:type=&quot;Double&quot;&gt;
      &lt;sv:value&gt;30000.3&lt;/sv:value&gt;
    &lt;/sv:property&gt;
    &lt;sv:property sv:name=&quot;hippo:contentresource&quot; sv:type=&quot;String&quot;&gt;
      &lt;sv:value&gt;namespaces/hippostd/html.xml&lt;/sv:value&gt;
    &lt;/sv:property&gt;
    &lt;sv:property sv:name=&quot;hippo:contentroot&quot; sv:type=&quot;String&quot;&gt;
      &lt;sv:value&gt;/hippo:namespaces/hippostd&lt;/sv:value&gt;
    &lt;/sv:property&gt;
  &lt;/sv:node&gt;
        </pre></div>
        </div>
        
<p>
          Now, you're ready to use the plugin!
        </p>
      </div>
    </div>
  

            </div>
        </div>
    </div>

    <hr/>

    <footer>
                <div class="container-fluid">
                <div class="row span12">Copyright &copy;                                                2017.
                        All Rights Reserved.            
                                        
            </div>

        
        
                </div>
    </footer>
</body>
</html>
